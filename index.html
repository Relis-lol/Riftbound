<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Riftbound TCG Data Tracker</title>
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
  />
  <link rel="stylesheet" href="style.css" />
</head>
<body class="bg-dark text-light">
  <div class="container py-4">
    <h1 class="text-warning">Riftbound TCG Data Tracker</h1>
    <p class="mb-4">
      Booster Pack & Card Drop Data – automatisch aus CSV geladen.
    </p>

    <!-- 🔧 SQL-Zugriff Block -->
    <section class="p-3 my-4 border border-warning bg-black">
      <h2 class="text-warning">🔧 Entwickler-Zugang & SQL-Download</h2>
      <p>
        Dieses Projekt basiert auf einer realen SQL-Datenstruktur. Untenstehend finden Sie die exportierte SQLite-Datenbank und das zugehörige SQL-Schema.
        Ideal zur Offline-Analyse oder als Testumgebung für Data-Analyst-Interviews.
      </p>
      <ul>
        <li><a href="riftbound_schema.sql" class="text-info">📄 SQL-Schema (Download)</a></li>
        <li><a href="riftbound_portfolio.db" class="text-info">🗃️ SQLite Datenbank (Download)</a></li>
      </ul>
      <p class="text-secondary" style="font-size: 0.9em;">
        Hinweis: Beide Dateien können lokal mit Tools wie <strong>DB Browser for SQLite</strong> geöffnet und bearbeitet werden.
      </p>
    </section>

    <!-- Booster-Tabelle -->
    <h2 class="text-info">BoosterData.csv</h2>
    <div id="booster-table" class="table-responsive mb-5"></div>

    <!-- Karten-Tabelle -->
    <h2 class="text-info">CardData.csv</h2>
    <div id="card-table" class="table-responsive"></div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <script>
    function loadCSV(targetId, filePath) {
      Papa.parse(filePath, {
        download: true,
        header: true,
        complete: function(results) {
          const table = document.createElement("table");
          table.className = "table table-bordered table-sm table-striped table-dark";
          const thead = document.createElement("thead");
          const tbody = document.createElement("tbody");

          const headers = results.meta.fields;
          const headerRow = document.createElement("tr");
          headers.forEach(h => {
            const th = document.createElement("th");
            th.textContent = h;
            headerRow.appendChild(th);
          });
          thead.appendChild(headerRow);

          results.data.forEach(row => {
            const tr = document.createElement("tr");
            headers.forEach(h => {
              const td = document.createElement("td");
              td.textContent = row[h] || "";
              tr.appendChild(td);
            });
            tbody.appendChild(tr);
          });

          table.appendChild(thead);
          table.appendChild(tbody);
          document.getElementById(targetId).appendChild(table);
        }
      });
    }

    loadCSV("booster-table", "BoosterData.csv");
    loadCSV("card-table", "CardData.csv");
  </script>
</body>
</html>
